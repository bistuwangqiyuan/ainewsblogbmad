---
import Layout from '../layouts/Layout.astro';

const title = 'Cookie政策';
const description = 'AI新闻博客Cookie政策，了解我们如何使用Cookie来改善您的浏览体验';
---

<Layout title={title} description={description}>
    <div class="min-h-screen bg-gray-900">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- 页面标题 -->
            <div class="text-center mb-12">
                <h1 class="text-3xl font-bold text-white mb-4">Cookie政策</h1>
                <p class="text-gray-400 text-lg">了解我们如何使用Cookie来改善您的浏览体验</p>
                <p class="text-gray-500 text-sm mt-2">最后更新：2024年1月15日</p>
            </div>

            <!-- 主要内容 -->
            <div class="space-y-8">
                <!-- 什么是Cookie -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-4">什么是Cookie？</h2>
                    <p class="text-gray-300 mb-4">
                        Cookie是存储在您设备上的小型文本文件，当您访问网站时，这些文件会被发送到您的浏览器。
                        它们帮助网站记住您的偏好设置、登录状态和其他信息，从而提供更好的用户体验。
                    </p>
                    <p class="text-gray-300">我们使用Cookie来改善网站功能、分析网站使用情况、个性化内容以及提供相关广告。</p>
                </div>

                <!-- Cookie类型 -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-6">我们使用的Cookie类型</h2>

                    <div class="space-y-6">
                        <!-- 必要Cookie -->
                        <div class="border-l-4 border-green-500 pl-6">
                            <h3 class="text-xl font-semibold text-white mb-3">必要Cookie</h3>
                            <p class="text-gray-300 mb-3">
                                这些Cookie对于网站的基本功能是必需的，无法禁用。它们通常仅在您执行服务请求时设置， 例如设置隐私偏好、登录或填写表单。
                            </p>
                            <div class="bg-gray-700 rounded-lg p-4">
                                <h4 class="text-lg font-medium text-white mb-2">包括：</h4>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• 用户认证和会话管理</li>
                                    <li>• 安全功能（CSRF保护）</li>
                                    <li>• 购物车和结账流程</li>
                                    <li>• 语言和地区偏好</li>
                                </ul>
                            </div>
                        </div>

                        <!-- 功能Cookie -->
                        <div class="border-l-4 border-blue-500 pl-6">
                            <h3 class="text-xl font-semibold text-white mb-3">功能Cookie</h3>
                            <p class="text-gray-300 mb-3">
                                这些Cookie允许网站提供增强的功能和个性化。它们可能由我们或第三方提供商设置， 这些提供商在我们的页面上提供服务。
                            </p>
                            <div class="bg-gray-700 rounded-lg p-4">
                                <h4 class="text-lg font-medium text-white mb-2">包括：</h4>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• 用户偏好设置（主题、字体大小等）</li>
                                    <li>• 个性化内容推荐</li>
                                    <li>• 社交媒体集成</li>
                                    <li>• 视频播放器设置</li>
                                </ul>
                            </div>
                        </div>

                        <!-- 分析Cookie -->
                        <div class="border-l-4 border-purple-500 pl-6">
                            <h3 class="text-xl font-semibold text-white mb-3">分析Cookie</h3>
                            <p class="text-gray-300 mb-3">
                                这些Cookie允许我们计算访问量和流量来源，以便我们可以衡量和改进网站性能。
                                它们帮助我们了解哪些页面最受欢迎和最不受欢迎，并了解访问者如何在网站上移动。
                            </p>
                            <div class="bg-gray-700 rounded-lg p-4">
                                <h4 class="text-lg font-medium text-white mb-2">包括：</h4>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• 页面访问统计</li>
                                    <li>• 用户行为分析</li>
                                    <li>• 网站性能监控</li>
                                    <li>• 错误追踪</li>
                                </ul>
                            </div>
                        </div>

                        <!-- 营销Cookie -->
                        <div class="border-l-4 border-yellow-500 pl-6">
                            <h3 class="text-xl font-semibold text-white mb-3">营销Cookie</h3>
                            <p class="text-gray-300 mb-3">
                                这些Cookie可能由我们的广告合作伙伴通过我们的网站设置。这些公司可能会使用它们
                                来建立您的兴趣档案，并在其他网站上向您展示相关广告。
                            </p>
                            <div class="bg-gray-700 rounded-lg p-4">
                                <h4 class="text-lg font-medium text-white mb-2">包括：</h4>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• 个性化广告</li>
                                    <li>• 广告效果追踪</li>
                                    <li>• 社交媒体广告</li>
                                    <li>• 再营销活动</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 第三方Cookie -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-4">第三方Cookie</h2>
                    <p class="text-gray-300 mb-4">我们的网站可能包含来自第三方服务提供商的Cookie，包括：</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-700 rounded-lg p-4">
                            <h4 class="text-lg font-medium text-white mb-2">Google Analytics</h4>
                            <p class="text-gray-300 text-sm">用于网站流量分析和用户行为追踪</p>
                        </div>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <h4 class="text-lg font-medium text-white mb-2">Supabase</h4>
                            <p class="text-gray-300 text-sm">用于用户认证和数据库服务</p>
                        </div>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <h4 class="text-lg font-medium text-white mb-2">Netlify</h4>
                            <p class="text-gray-300 text-sm">用于网站托管和CDN服务</p>
                        </div>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <h4 class="text-lg font-medium text-white mb-2">社交媒体</h4>
                            <p class="text-gray-300 text-sm">用于分享按钮和社交登录</p>
                        </div>
                    </div>
                </div>

                <!-- Cookie管理 -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-4">管理您的Cookie偏好</h2>
                    <p class="text-gray-300 mb-6">您可以通过以下方式控制和管理Cookie：</p>

                    <div class="space-y-4">
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold">1</span>
                            </div>
                            <div>
                                <h4 class="text-lg font-medium text-white mb-2">浏览器设置</h4>
                                <p class="text-gray-300 text-sm">您可以在浏览器设置中禁用或删除Cookie。请注意，禁用某些Cookie可能会影响网站功能。</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold">2</span>
                            </div>
                            <div>
                                <h4 class="text-lg font-medium text-white mb-2">Cookie同意</h4>
                                <p class="text-gray-300 text-sm">当您首次访问我们的网站时，您可以选择接受或拒绝非必要Cookie。</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold">3</span>
                            </div>
                            <div>
                                <h4 class="text-lg font-medium text-white mb-2">定期清理</h4>
                                <p class="text-gray-300 text-sm">定期清理浏览器Cookie可以保护您的隐私并释放存储空间。</p>
                            </div>
                        </div>
                    </div>

                    <!-- Cookie设置按钮 -->
                    <div class="mt-6">
                        <button id="cookie-settings" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors">
                            管理Cookie设置
                        </button>
                    </div>
                </div>

                <!-- Cookie持续时间 -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-4">Cookie持续时间</h2>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="py-3 px-4 text-gray-300 font-semibold">Cookie类型</th>
                                    <th class="py-3 px-4 text-gray-300 font-semibold">持续时间</th>
                                    <th class="py-3 px-4 text-gray-300 font-semibold">说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-700">
                                    <td class="py-3 px-4 text-white">会话Cookie</td>
                                    <td class="py-3 px-4 text-gray-400">浏览器会话期间</td>
                                    <td class="py-3 px-4 text-gray-400">关闭浏览器后自动删除</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="py-3 px-4 text-white">持久Cookie</td>
                                    <td class="py-3 px-4 text-gray-400">最长2年</td>
                                    <td class="py-3 px-4 text-gray-400">在设定的过期时间后删除</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="py-3 px-4 text-white">第三方Cookie</td>
                                    <td class="py-3 px-4 text-gray-400">根据第三方政策</td>
                                    <td class="py-3 px-4 text-gray-400">由第三方服务提供商管理</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 联系我们 -->
                <div class="bg-gray-800 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-white mb-4">联系我们</h2>
                    <p class="text-gray-300 mb-4">如果您对我们的Cookie政策有任何疑问，请通过以下方式联系我们：</p>
                    <div class="flex flex-wrap gap-4">
                        <a href="/contact" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                            <span class="mr-2">📧</span>
                            联系我们
                        </a>
                        <a href="/privacy" class="inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                            <span class="mr-2">🔒</span>
                            隐私政策
                        </a>
                        <a href="/terms" class="inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                            <span class="mr-2">📄</span>
                            服务条款
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Cookie设置管理
        const cookieSettingsButton = document.getElementById('cookie-settings');

        cookieSettingsButton.addEventListener('click', () => {
            // 这里可以打开Cookie设置模态框或跳转到设置页面
            alert('Cookie设置功能正在开发中。您可以通过浏览器设置来管理Cookie。');
        });

        // 检查当前Cookie设置
        function checkCookieConsent() {
            const consent = localStorage.getItem('cookie-consent');
            if (!consent) {
                // 显示Cookie同意横幅
                showCookieBanner();
            }
        }

        // 显示Cookie同意横幅
        function showCookieBanner() {
            const banner = document.createElement('div');
            banner.className = 'fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4 z-50';
            banner.innerHTML = `
                <div class="max-w-4xl mx-auto flex flex-col sm:flex-row items-center justify-between">
                    <div class="text-gray-300 text-sm mb-4 sm:mb-0">
                        我们使用Cookie来改善您的浏览体验。继续使用本网站即表示您同意我们的Cookie政策。
                    </div>
                    <div class="flex space-x-4">
                        <button id="accept-cookies" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors">
                            接受
                        </button>
                        <button id="reject-cookies" class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg transition-colors">
                            拒绝
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(banner);

            // 绑定按钮事件
            document.getElementById('accept-cookies').addEventListener('click', () => {
                localStorage.setItem('cookie-consent', 'accepted');
                banner.remove();
            });

            document.getElementById('reject-cookies').addEventListener('click', () => {
                localStorage.setItem('cookie-consent', 'rejected');
                banner.remove();
            });
        }

        // 页面加载时检查Cookie同意
        checkCookieConsent();
    </script>
</Layout>
