---
import Layout from '../layouts/Layout.astro';

// 页面元数据
const title = '通知中心';
const description = '管理您的所有通知和消息';
---

<Layout title={title}>
    <div class="min-h-screen bg-gray-900">
        <!-- 主要内容 -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- 页面标题 -->
            <div class="mb-8">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <h1 class="text-2xl font-bold text-white">通知中心</h1>
                        <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">实时</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <button id="refresh-btn" class="p-2 text-gray-400 hover:text-white transition-colors" title="刷新通知">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    fill-rule="evenodd"
                                    d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                        <button id="settings-btn" class="p-2 text-gray-400 hover:text-white transition-colors" title="通知设置">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    fill-rule="evenodd"
                                    d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 标签页导航 -->
            <div class="border-b border-gray-700 mb-8">
                <nav class="-mb-px flex space-x-8">
                    <button id="tab-list" class="tab-btn border-b-2 border-blue-500 text-blue-400 py-2 px-1 text-sm font-medium" data-tab="list">
                        通知列表
                    </button>
                    <button
                        id="tab-history"
                        class="tab-btn border-b-2 border-transparent text-gray-400 hover:text-gray-300 py-2 px-1 text-sm font-medium"
                        data-tab="history"
                    >
                        通知历史
                    </button>
                    <button
                        id="tab-settings"
                        class="tab-btn border-b-2 border-transparent text-gray-400 hover:text-gray-300 py-2 px-1 text-sm font-medium"
                        data-tab="settings"
                    >
                        通知设置
                    </button>
                </nav>
            </div>

            <!-- 标签页内容 -->
            <div id="tab-content">
                <!-- 通知列表标签页 -->
                <div id="tab-list-content" class="tab-panel">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- 通知列表 -->
                        <div class="lg:col-span-2">
                            <div id="notifications-list" class="space-y-4">
                                <!-- 通知列表将通过JavaScript动态加载 -->
                            </div>
                        </div>

                        <!-- 通知统计 -->
                        <div class="space-y-6">
                            <!-- 统计卡片 -->
                            <div class="bg-gray-800 rounded-lg p-6">
                                <h3 class="text-lg font-medium text-white mb-4">通知统计</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">总通知数</span>
                                        <span id="total-count" class="text-white font-medium">0</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">未读通知</span>
                                        <span id="unread-count" class="text-blue-400 font-medium">0</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-300">今日通知</span>
                                        <span id="today-count" class="text-green-400 font-medium">0</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 快速操作 -->
                            <div class="bg-gray-800 rounded-lg p-6">
                                <h3 class="text-lg font-medium text-white mb-4">快速操作</h3>
                                <div class="space-y-3">
                                    <button
                                        id="mark-all-read-btn"
                                        class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"
                                    >
                                        全部标记为已读
                                    </button>
                                    <button id="delete-read-btn" class="w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors">
                                        删除已读通知
                                    </button>
                                    <button id="export-btn" class="w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors">
                                        导出通知
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 通知历史标签页 -->
                <div id="tab-history-content" class="tab-panel hidden">
                    <div id="notifications-history" class="space-y-4">
                        <!-- 通知历史将通过JavaScript动态加载 -->
                    </div>
                </div>

                <!-- 通知设置标签页 -->
                <div id="tab-settings-content" class="tab-panel hidden">
                    <div id="notifications-settings" class="space-y-4">
                        <!-- 通知设置将通过JavaScript动态加载 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</Layout>
