# 系统架构图

## 高层架构

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   用户浏览器    │    │   Netlify CDN   │    │  Supabase Cloud │
│                 │    │                 │    │                 │
│ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │
│ │   Astro     │ │◄──►│ │  静态文件   │ │◄──►│ │ PostgreSQL │ │
│ │  前端应用   │ │    │ │   (HTML/    │ │    │ │   数据库    │ │
│ │             │ │    │ │   CSS/JS)   │ │    │ │             │ │
│ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │
└─────────────────┘    └─────────────────┘    │ ┌─────────────┐ │
                                              │ │   Auth      │ │
                                              │ │  认证服务   │ │
                                              │ └─────────────┘ │
                                              │ ┌─────────────┐ │
                                              │ │  Storage    │ │
                                              │ │  文件存储   │ │
                                              │ └─────────────┘ │
                                              └─────────────────┘
                                                       ▲
                                                       │
                                              ┌─────────────────┐
                                              │ Netlify Functions│
                                              │                 │
                                              │ ┌─────────────┐ │
                                              │ │ fetch-news  │ │
                                              │ │ 新闻抓取   │ │
                                              │ └─────────────┘ │
                                              │ ┌─────────────┐ │
                                              │ │   ask-ai    │ │
                                              │ │  AI 问答    │ │
                                              │ └─────────────┘ │
                                              └─────────────────┘
```

## 数据流架构

```
用户请求 → Netlify CDN → Astro 应用 → Supabase API → 数据库
                ↓
         Netlify Functions → 外部 API (新闻源/AI)
```
