# 编码规范

## 通用

- 安全、可读、性能依次优先；模块化，函数/变量命名语义化；无多余嵌套。
- 绝不使用模拟/回退数据；失败清晰提示。

## 前端

- ES6+；无 TS；组件化与小函数拆分；避免深层状态嵌套。
- 表单与上传：前端校验（大小/类型）+ 服务端再检。
- 文本提交前敏感词 RPC 预检；错误不吞并。

## 数据与权限

- 所有写入均受 RLS 控制；仅函数侧使用 Service Key。
- 插入/删除遵循业务规则：点赞可删除、收藏不可删除、评论不可编辑删除。

## 函数

- 函数只做单一职责；参数与异常检查；无回退、无兜底伪造。
- 记录必要日志（crawler_logs），不泄漏密钥。
